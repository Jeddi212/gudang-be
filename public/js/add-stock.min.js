function removeItem(e){if(confirm("Are you sure you want to remove this item?")){var t=document.getElementById("inventoryFields"),n=e.parentElement;t.removeChild(n)}}const collectForm=()=>{let e=document.getElementById("event").value,t=Array.from(document.querySelectorAll(".inventory-item")).map(e=>({product:e.querySelector('[name="product[]"]').value,warehouse:e.querySelector('[name="warehouse[]"]').value,quantity:e.querySelector('[name="quantity[]"]').value}));return JSON.stringify({event:e,inventory:t})};document.getElementById("jsonForm").addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("result");try{let n=collectForm(),r=e.target.action,o=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:n}),a=await o.json(),l=a.data.transaction.id;window.location.href=`/transaction/${l}`}catch(i){t.innerHTML=i}});
