function removeItem(e){if(confirm("Are you sure you want to remove this item?")){var t=document.getElementById("inventoryFields"),n=e.parentElement;t.removeChild(n)}}const collectForm=()=>{let e=document.getElementById("event").value,t=Array.from(document.querySelectorAll(".inventory-item")).map(e=>({product:e.querySelector('[name="product[]"]').value,warehouse:e.querySelector('[name="warehouse[]"]').value,quantity:e.querySelector('[name="quantity[]"]').value}));return JSON.stringify({event:e,inventory:t})};document.getElementById("jsonForm").addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("result");t.setAttribute("aria-busy","true");try{let n=collectForm(),r=e.target.action,a=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:n});if(a.ok){let o=await a.json(),i=o.data.transaction.id;window.location.href=`/transaction/${i}`}else{let l=await a.text();t.innerHTML=l}}catch(u){t.innerHTML=u}t.setAttribute("aria-busy","false")});