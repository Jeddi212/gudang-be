function removeItem(e){if(confirm("Are you sure you want to remove this item?")){var t=document.getElementById("inventoryFields"),r=e.parentElement;t.removeChild(r)}}const collectForm=()=>{let e=document.getElementById("event").value,t=Array.from(document.querySelectorAll(".inventory-item")).map(e=>({product:e.querySelector('[name="product[]"]').value,warehouse:e.querySelector('[name="warehouse[]"]').value,quantity:e.querySelector('[name="quantity[]"]').value}));return JSON.stringify({event:e,inventory:t})};document.getElementById("jsonForm").addEventListener("submit",async e=>{e.preventDefault();let t=document.getElementById("result");t.setAttribute("aria-busy","true");try{let r=collectForm(),n=e.target.action,a=await fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:r}),o=await a.json(),i=o.data.transaction.id;window.location.href=`/transaction/${i}`}catch(l){t.innerHTML=l}t.setAttribute("aria-busy","false")});